(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{128:function(e,t,n){},179:function(e,t,n){},203:function(e,t){},205:function(e,t){},26:function(e,t,n){e.exports={options:"Options_options__1PSYF",btn:"Options_btn__1o0_Y",inputgroup:"Options_inputgroup__15Fv6",btnDiv:"Options_btnDiv__b5d2h",phone:"Options_phone__YTLZa",answer:"Options_answer__3SnST",decline:"Options_decline__2QCyy",hang:"Options_hang__1lKgL",share_options:"Options_share_options__3byCi",share_social:"Options_share_social__1NfbZ",share_icon:"Options_share_icon__2Ik9O"}},285:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(29),s=n.n(i),r=(n(128),n(161)),o=n(18),l=n(322),d=n.p+"static/media/img-title.d806f4b5.png",u=n(3),b=n(310),j=Object(b.a)((function(e){var t;return{wrapper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},appBar:Object(u.a)({borderRadius:"20px",margin:"30px 30px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"5px 10px",width:"90%",background:"linear-gradient(90deg,#DB0B5F 0%, #6F00ED 100%)"},e.breakpoints.down("sm"),{flexDirection:"column",justifyContent:"center",alignItems:"center"}),gridContainer:Object(u.a)({justifyContent:"center"},e.breakpoints.down("xs"),{flexDirection:"column"}),paper:{margin:"0 20px"},overlay2:{position:"absolute",color:"white",marginLeft:"70px",marginTop:"20px",fontFamily:"Montserrat, sans-serif",textTransform:"uppercase",fontSize:"16px",fontWeight:"bold"},video:(t={width:"450px"},Object(u.a)(t,e.breakpoints.down("xs"),{width:"300px"}),Object(u.a)(t,"border","solid"),Object(u.a)(t,"borderColor","#FF4331 #D31A50"),Object(u.a)(t,"borderRadius","120px"),Object(u.a)(t,"borderWidth","12px"),t),sidebarroot:{display:"flex",flexDirection:"column",color:"white"},sidebargridContainer:Object(u.a)({width:"100%"},e.breakpoints.down("xs"),{flexDirection:"column"}),sidebarcontainer:Object(u.a)({width:"600px",margin:"35px 0",padding:0},e.breakpoints.down("xs"),{width:"80%"}),sidebarmargin:{marginTop:20,"&:hover":{transition:"0.1s ease-in-out","-webkit-box-shadow":"0 0 30px white",boxShadow:"0 0 20px yellow","-webkit-transition-delay":".1s",transitionDelay:".1s",background:"linear-gradient(90deg,#FF9F4A 0%, #FF3C83 100%)",color:"#FFFFFF"}},sidebarpadding:{padding:20},sidebarpaper:{padding:"10px 20px"},sidebarbutton:{border:"solid",borderColor:"#FF4331 #D31A50",borderRadius:"10px",borderWidth:"5px",background:"yellow","&:hover":{transition:"0.3s ease-in-out","-webkit-box-shadow":"0 0 50px linear-gradient(90deg,#FF9F4A 0%, #FF3C83 100%)",boxShadow:"0 0 50px #b91eda","-webkit-transition-delay":".1s",transitionDelay:".1s",background:"linear-gradient(90deg,#FF9F4A 0%, #FF3C83 100%)",color:"#FFFFFF"}},callText:{color:"#FFFFFF",fontWeight:"bold",fontFamily:"Montserrat, sans-serif",display:"flex",fontSize:"12px",margin:"30px 15px"}}})),m=n(7),h=n(4),p=Object(a.createContext)(),O=(n(179),n(319)),g=n(170),x=n(321),f=n(320),v=n.p+"static/media/video.e038b670.svg",F=n.p+"static/media/video-off.81281c31.svg",y=n.p+"static/media/msg_illus.a7fd59ce.svg",C=n.p+"static/media/msg.590bd963.svg",w=n.p+"static/media/share_screen.35f2d549.svg",S=n(323),k=n(324),N=n(163),_=n(123),M=n.n(_),D=n(166),I=n(5),R=Object(N.a)("https://xoom-x2.herokuapp.com/"),T=function(e){var t=e.children,n=Object(a.useState)(!1),c=Object(h.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)(!1),o=Object(h.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)(),b=Object(h.a)(u,2),j=b[0],O=b[1],g=Object(a.useState)([]),x=Object(h.a)(g,2),f=x[0],v=x[1],F=Object(a.useState)(""),y=Object(h.a)(F,2),C=y[0],w=y[1],S=Object(a.useState)({}),k=Object(h.a)(S,2),N=k[0],_=k[1],T=Object(a.useState)(""),A=Object(h.a)(T,2),V=A[0],E=A[1],z=Object(a.useState)(""),U=Object(h.a)(z,2),B=U[0],L=U[1],q=Object(a.useState)(""),J=Object(h.a)(q,2),P=J[0],W=J[1],Y=Object(a.useState)(!0),X=Object(h.a)(Y,2),G=X[0],H=X[1],Z=Object(a.useState)(),K=Object(h.a)(Z,2),Q=K[0],$=K[1],ee=Object(a.useState)(!0),te=Object(h.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(),ie=Object(h.a)(ce,2),se=ie[0],re=ie[1],oe=Object(a.useState)(""),le=Object(h.a)(oe,2),de=le[0],ue=le[1],be=Object(a.useState)(!1),je=Object(h.a)(be,2),me=je[0],he=je[1],pe=Object(a.useRef)(),Oe=Object(a.useRef)(),ge=Object(a.useRef)(),xe=Object(a.useRef)();Object(a.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){O(e),pe.current.srcObject=e})),localStorage.getItem("name")&&w(localStorage.getItem("name")),R.on("me",(function(e){return E(e)})),R.on("endCall",(function(){window.location.reload()})),R.on("updateUserMedia",(function(e){var t=e.type,n=e.currentMediaStatus;if(null!==n||n!==[])switch(t){case"video":$(n);break;case"mic":re(n);break;default:re(n[0]),$(n[1])}})),R.on("callUser",(function(e){var t=e.from,n=e.name,a=e.signal;_({isReceivingCall:!0,from:t,name:n,signal:a})})),R.on("msgRcv",(function(e){e.name;var t=e.msg,n=e.sender;ue({value:t,sender:n}),setTimeout((function(){ue({})}),2e3)}))}),[]);return Object(I.jsx)(p.Provider,{value:{call:N,callAccepted:i,myVideo:pe,userVideo:Oe,stream:j,name:C,setName:w,callEnded:l,me:V,callUser:function(e){var t=new M.a({initiator:!0,trickle:!1,stream:j});W(e),t.on("signal",(function(t){R.emit("callUser",{userToCall:e,signalData:t,from:V,name:C})})),t.on("stream",(function(e){Oe.current.srcObject=e})),R.on("callAccepted",(function(e){var n=e.signal,a=e.userName;s(!0),L(a),t.signal(n),R.emit("updateMyMedia",{type:"both",currentMediaStatus:[ne,G]})})),ge.current=t,console.log(ge.current)},leaveCall:function(){d(!0),ge.current.destroy(),R.emit("endCall",{id:P}),window.location.reload()},answerCall:function(){s(!0),W(N.from);var e=new M.a({initiator:!1,trickle:!1,stream:j});e.on("signal",(function(e){R.emit("answerCall",{signal:e,to:N.from,userName:C,type:"both",myMediaStatus:[ne,G]})})),e.on("stream",(function(e){Oe.current.srcObject=e})),e.signal(N.signal),ge.current=e,console.log(ge.current)},sendMsg:function(e){R.emit("msgUser",{name:C,to:P,msg:e,sender:C});var t={};t.msg=e,t.type="sent",t.timestamp=Date.now(),t.sender=C,v([].concat(Object(m.a)(f),[t]))},msgRcv:de,chat:f,setChat:v,setMsgRcv:ue,setOtherUser:W,leaveCall1:function(){R.emit("endCall",{id:P})},userName:B,myVdoStatus:G,setMyVdoStatus:H,userVdoStatus:Q,setUserVdoStatus:$,updateVideo:function(){H((function(e){return R.emit("updateMyMedia",{type:"video",currentMediaStatus:!e}),j.getVideoTracks()[0].enabled=!e,!e}))},myMicStatus:ne,userMicStatus:se,updateMic:function(){ae((function(e){return R.emit("updateMyMedia",{type:"mic",currentMediaStatus:!e}),j.getAudioTracks()[0].enabled=!e,!e}))},screenShare:me,handleScreenSharing:function(){G?me?xe.current.onended():navigator.mediaDevices.getDisplayMedia({cursor:!0}).then((function(e){var t=e.getTracks()[0];ge.current.replaceTrack(ge.current.streams[0].getTracks().find((function(e){return"video"===e.kind})),t,j),t.onended=function(){ge.current.replaceTrack(t,ge.current.streams[0].getTracks().find((function(e){return"video"===e.kind})),j),pe.current.srcObject=j,he(!1)},pe.current.srcObject=e,xe.current=t,he(!0)})).catch((function(e){console.log("No stream for sharing")})):D.b.error("Turn on your video to share the content",2)},fullScreen:function(e){var t=e.target;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},children:t})},A=O.a.Search,V=function(){var e=Object(a.useContext)(p),t=e.call,n=e.callAccepted,c=e.myVideo,i=e.userVideo,s=e.stream,r=e.name,o=(e.setName,e.callEnded),l=(e.me,e.callUser,e.leaveCall,e.answerCall,e.sendMsg),d=e.msgRcv,u=e.chat,b=e.setChat,j=e.userName,O=e.myVdoStatus,N=(e.screenShare,e.fullScreen),_=e.handleScreenSharing,M=e.userVdoStatus,D=e.updateVideo,T=e.myMicStatus,V=e.userMicStatus,E=e.updateMic,z=Object(a.useState)(""),U=Object(h.a)(z,2),B=U[0],L=U[1],q=Object(a.useState)(!1),J=Object(h.a)(q,2),P=J[0],W=J[1];R.on("msgRcv",(function(e){e.name;var t=e.msg,n=e.sender,a={};a.msg=t,a.type="rcv",a.sender=n,a.timestamp=Date.now(),b([].concat(Object(m.a)(u),[a]))}));var Y=Object(a.useRef)();Object(a.useEffect)((function(){null!==Y&&void 0!==Y&&Y.current&&Y.current.scrollIntoView({behavior:"smooth"})}),[u]);var X=function(e){W(e)};return Object(a.useEffect)((function(){d.value&&!P&&g.a.open({message:"",description:"".concat(d.sender,": ").concat(d.value),icon:Object(I.jsx)(S.a,{style:{color:"#108ee9"}})})}),[d]),Object(I.jsxs)("div",{className:"grid",children:[s?Object(I.jsxs)("div",{style:{textAlign:"center"},className:"card",id:n&&!o?"video1":"video3",children:[Object(I.jsx)("div",{style:{height:"2rem"},children:Object(I.jsx)("h3",{style:{color:"#FFFFFF"},children:O&&r})}),Object(I.jsxs)("div",{className:"video-avatar-container",children:[Object(I.jsx)("video",{playsInline:!0,muted:!0,onClick:N,ref:c,autoPlay:!0,className:"video-active",style:{opacity:"".concat(O?"1":"0")}}),Object(I.jsx)(x.a,{style:{background:"linear-gradient(90deg,#DB0B5F 0%, #6F00ED 100%)",position:"absolute",opacity:"".concat(O?"-1":"2"),textTransform:"uppercase",fontSize:"30px"},size:200,icon:!r&&Object(I.jsx)(k.a,{}),children:r})]}),Object(I.jsxs)("div",{className:"iconsDiv",children:[Object(I.jsx)("div",{className:"icons",onClick:function(){E()},tabIndex:"0",children:Object(I.jsx)("i",{className:"fa fa-microphone".concat(T?"":"-slash"),style:{transform:"scaleX(-1)"},"aria-label":"".concat(T?"mic on":"mic off"),"aria-hidden":"true"})}),n&&!o&&Object(I.jsx)("div",{className:"icons",onClick:function(){W(!P)},tabIndex:"0",children:Object(I.jsx)("img",{src:C,alt:"chat icon"})}),Object(I.jsxs)(f.a,{title:"Chat",footer:null,visible:P,onOk:function(){return X(!1)},onCancel:function(){return X(!1)},style:{maxHeight:"100px"},children:[u.length?Object(I.jsxs)("div",{className:"msg_flex",children:[u.map((function(e){return Object(I.jsx)("div",{className:"sent"===e.type?"msg_sent":"msg_rcv",children:e.msg})})),Object(I.jsx)("div",{ref:Y,id:"no_border"})]}):Object(I.jsx)("div",{className:"chat_img_div",children:Object(I.jsx)("img",{src:y,alt:"msg_illus",className:"img_illus"})}),Object(I.jsx)(A,{placeholder:"your message",allowClear:!0,className:"input_msg",enterButton:"Send \ud83d\ude80",onChange:function(e){return L(e.target.value)},value:B,size:"large",onSearch:function(e){e&&e.length&&l(e),L("")}})]}),n&&!o&&Object(I.jsx)("div",{className:"icons",onClick:function(){return _()},tabIndex:"0",children:Object(I.jsx)("img",{src:w,alt:"share screen"})}),Object(I.jsx)("div",{className:"icons",onClick:function(){return D()},tabIndex:"0",children:O?Object(I.jsx)("img",{src:v,alt:"video on icon"}):Object(I.jsx)("img",{src:F,alt:"video off icon"})})]})]}):Object(I.jsxs)("div",{className:"bouncing-loader",children:[Object(I.jsx)("div",{}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{})]}),n&&!o&&i&&Object(I.jsxs)("div",{className:"card2",style:{textAlign:"center",textTransform:"uppercase"},id:"video2",children:[Object(I.jsx)("div",{style:{height:"2rem",textTransform:"uppercase"},children:Object(I.jsx)("h3",{children:M&&(t.name||j)})}),Object(I.jsxs)("div",{className:"video-avatar-container",children:[Object(I.jsx)("video",{playsInline:!0,ref:i,onClick:N,autoPlay:!0,className:"video-active",style:{opacity:"".concat(M?"1":"0")}}),Object(I.jsx)(x.a,{style:{background:"linear-gradient(90deg,#DB0B5F 0%, #6F00ED 100%)",position:"absolute",opacity:"".concat(M?"-1":"2"),textTransform:"uppercase",fontSize:"30px"},size:200,icon:!(j||t.name)&&Object(I.jsx)(k.a,{}),children:j||t.name}),!V&&Object(I.jsx)("i",{style:{position:"absolute",top:"0",left:"0",padding:"0.3rem",backgroundColor:"transparent"},className:"fad fa-volume-mute fa-2x","aria-hidden":"true","aria-label":"microphone muted"})]})]})]})},E=n(62),z=n(167),U=n.p+"static/media/phone.b2c1ae6b.gif",B=n.p+"static/media/teams.23d1d865.mp3",L=n(26),q=n(160),J=n.p+"static/media/hang.a09ef7b4.svg",P=n(313),W=n(314),Y=n(315),X=n(316),G=n(317),H=n(318),Z=n(325),K=n(115),Q=n(326),$=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),s=Object(h.a)(i,2),r=s[0],o=s[1],l=Object(a.useRef)(),d=Object(a.useContext)(p),u=d.call,b=d.callAccepted,j=(d.myVideo,d.userVideo,d.stream,d.name),m=d.setName,g=d.callEnded,x=d.me,v=d.callUser,F=d.leaveCall,y=d.answerCall,C=(d.otherUser,d.setOtherUser),w=d.leaveCall1;Object(a.useEffect)((function(){var e,t;r?null===l||void 0===l||null===(t=l.current)||void 0===t||t.play():null===l||void 0===l||null===(e=l.current)||void 0===e||e.pause()}),[r]);return Object(a.useEffect)((function(){u.isReceivingCall&&!b?(o(!0),C(u.from)):o(!1)}),[u.isReceivingCall]),Object(I.jsxs)("div",{className:L.options,children:[Object(I.jsxs)("div",{style:{marginBottom:"0.5rem",color:"white"},children:[Object(I.jsx)("h2",{style:{color:"white"},children:"SETUP JOINING INFO"}),Object(I.jsx)(O.a,{size:"large",placeholder:"Input your Name",prefix:Object(I.jsx)(k.a,{}),maxLength:15,suffix:Object(I.jsxs)("small",{children:[j.length,"/15"]}),value:j,onChange:function(e){m(e.target.value),localStorage.setItem("name",e.target.value)},className:L.inputgroup}),Object(I.jsxs)("div",{className:L.share_options,children:[Object(I.jsx)(q.CopyToClipboard,{text:x,children:Object(I.jsx)(E.a,{icon:Object(I.jsx)(Z.a,{}),className:L.btn,tabIndex:"0",onClick:function(){return D.b.success("Code copied successfully!")},style:{background:"linear-gradient(90deg,#FF9F4A 0%, #FF3C83 100%)",color:"#FFFFFF"},children:"COPY YOUR XOOM-ID"})}),Object(I.jsxs)("div",{className:L.share_social,children:[Object(I.jsx)(P.a,{url:"https://utkarsh-yadav1231.github.io/xoom-x-video-chat-webapp/",title:'Join this meeting with the given code "'.concat(x,'"\n'),separator:"Link: ",className:L.share_icon,children:Object(I.jsx)(W.a,{size:26,round:!0})}),Object(I.jsx)(Y.a,{url:"https://utkarsh-yadav1231.github.io/xoom-x-video-chat-webapp/",title:'Join this meeting with the given code "'.concat(x,'"\n'),className:L.share_icon,children:Object(I.jsx)(X.a,{size:26,round:!0})}),Object(I.jsx)(G.a,{url:"https://utkarsh-yadav1231.github.io/xoom-x-video-chat-webapp/",title:'Join this meeting with the given code  "'.concat(x,'"\n'),className:L.share_icon,children:Object(I.jsx)(H.a,{size:26,round:!0,className:L.share_border})})]})]})]}),Object(I.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[Object(I.jsx)("h2",{style:{color:"white"},children:"JOIN A XOOM CALL"}),Object(I.jsx)(O.a,{placeholder:"Paste XOOM-ID",size:"large",className:L.inputgroup,value:n,onChange:function(e){return c(e.target.value)},style:{marginRight:"0.5rem",marginBottom:"0.5rem"},prefix:Object(I.jsx)(k.a,{className:"site-form-item-icon"}),suffix:Object(I.jsx)(z.a,{title:"Enter code of the other user",children:Object(I.jsx)(K.a,{style:{color:"rgba(0,0,0,.45)"}})})}),b&&!g?Object(I.jsxs)(E.a,{variant:"contained",onClick:F,className:L.hang,tabIndex:"0",style:{background:"linear-gradient(90deg,#FF9F4A 0%, #FF3C83 100%)",color:"#FFFFFF"},children:[Object(I.jsx)("img",{src:J,alt:"hang up",style:{height:"15px"}}),"\xa0 Hang up"]}):Object(I.jsx)(E.a,{icon:Object(I.jsx)(Q.a,{}),onClick:function(){j.length?v(n):D.b.error("Please enter your name to call!")},className:L.btn,tabIndex:"0",style:{background:"linear-gradient(90deg,#FF9F4A 0%, #FF3C83 100%)",color:"#FFFFFF"},children:"CALL"})]}),u.isReceivingCall&&!b&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("audio",{src:B,loop:!0,ref:l}),Object(I.jsxs)(f.a,{title:"Incoming Call",visible:r,onOk:function(){o(!1)},onCancel:function(){o(!1),w(),window.location.reload()},footer:null,children:[Object(I.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:Object(I.jsxs)("h1",{children:[u.name," is calling you:"," ",Object(I.jsx)("img",{src:U,alt:"phone ringing",className:L.phone,style:{display:"inline-block"}})]})}),Object(I.jsxs)("div",{className:L.btnDiv,children:[Object(I.jsx)(E.a,{variant:"contained",className:L.answer,color:"#29bb89",icon:Object(I.jsx)(Q.a,{}),onClick:function(){y(),l.current.pause()},tabIndex:"0",children:"Answer"}),Object(I.jsx)(E.a,{variant:"contained",className:L.decline,icon:Object(I.jsx)(Q.a,{}),onClick:function(){o(!1),l.current.pause()},tabIndex:"0",children:"Decline"})]})]})]})]})},ee=(n(285),function(){return Object(I.jsx)("footer",{className:"footer",children:Object(I.jsxs)("p",{children:["Made with ",Object(I.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:"\u2764"})," in India"]})})}),te=function(){var e=j();return Object(a.useEffect)((function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var n=e[t],a=n.indexOf("="),c=a>-1?n.substr(0,a):n;document.cookie=c+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}),[]),Object(I.jsx)(T,{children:Object(I.jsxs)("div",{className:e.wrapper,children:[Object(I.jsx)(l.a,{className:e.appBar,position:"static",color:"inherit",children:Object(I.jsx)("div",{className:e.brandContainer,children:Object(I.jsx)("img",{className:e.imageText,src:d,alt:"icon",height:"40px"})})}),Object(I.jsxs)("div",{className:"App",style:{height:"100%",width:"100%"},children:[Object(I.jsx)(V,{}),Object(I.jsx)($,{}),Object(I.jsx)(ee,{})]})]})})},ne=(n(288),n(289),function(){return Object(I.jsx)(r.a,{children:Object(I.jsx)(o.c,{children:Object(I.jsx)(o.a,{path:"/",component:te})})})});s.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(ne,{})}),document.getElementById("root"))}},[[295,1,2]]]);
//# sourceMappingURL=main.e76dbd6a.chunk.js.map